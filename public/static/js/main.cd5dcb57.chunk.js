(this["webpackJsonpsamolet-test"]=this["webpackJsonpsamolet-test"]||[]).push([[0],{258:function(e,t,n){},259:function(e,t,n){},263:function(e){e.exports=JSON.parse("{}")},264:function(e,t,n){},269:function(e,t,n){},270:function(e,t,n){},315:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(34),a=n.n(i),c=n(26),o=n(91),s=n(31),l=n(51),u="LOAD_INITIAL_LIST",d="FINISH_LOAD_INITIAL_LIST",b="START_LOAD_FILTERED_LIST",j="FINISH_LOAD_FILTERED_LIST",f="START_PROCESSING",O="STOP_PROCESSING",p="CHANGE_FIND_TEXT",x={list:[],all_list:[]},h=n(187),m={list:[],findText:""},v={loading:!1},y=n(321),g=Object(s.c)({initialList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(l.a)({},x);case d:return Object(l.a)(Object(l.a)({},e),{},{list:t.payload.list,all_list:t.payload.all_list});default:return e}},filteredList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return{list:[],findText:e.findText};case j:return Object(l.a)(Object(l.a)({},e),{},{list:Object(h.a)(t.payload)});case p:return Object(l.a)(Object(l.a)({},e),{},{findText:t.payload});default:return e}},action_proccesing:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return{loading:!0};case O:return{loading:!1};default:return e}},form:y.a}),L=n(184),w=n.n(L),_=(n(258),n(33)),T=(n(259),n(36)),C=n(173),I=n.n(C),S=n(318),N=n(322),k=n(176),A=n(316);n(263);function E(){return console.log("getData"),fetch("opendata/7705851331-stat_library/data-2016-11-10T00-00-00-structure-2016-09-12T00-00-00.json").then((function(e){return e.json()}))}function R(e){var t=e.reduce((function(e,t){return e[t.territory]=(void 0===e[t.territory]?0:e[t.territory])+t.libraries,e}),{});return Object.keys(t).map((function(e){var n={};return n.region=e.trim(),n.countLibrary=t[e],n})).sort((function(e,t){return e.region.toLowerCase()<t.region.toLowerCase()?-1:e.region.toLowerCase()>t.region.toLowerCase()?1:0}))}n(264);var D=n(15);var F=function(){var e=Object(T.c)(),t=Object(T.d)((function(e){return e.filteredList.findText})),n=Object(T.d)((function(e){return""===e.filteredList.findText?[]:e.filteredList.list.reduce((function(t,n){return n.region.includes(e.filteredList.findText)&&t.push(n.region),t}),[])}));return Object(D.jsx)("div",{className:"FindList",onClick:function(t){t.target.textContent&&e({type:p,payload:t.target.textContent.trim()})},children:1===n.length&&n[0]===t?null:n.map((function(e,t){return Object(D.jsx)("div",{className:"FindList__el",children:e},t)}))})};var J=function(){var e=S.a.Search,t=Object(_.f)(),n=Object(T.d)((function(e){return e.action_proccesing.loading})),i=Object(T.d)((function(e){return e.filteredList.list})),a=Object(T.d)((function(e){return e.filteredList.findText})),c=Object(T.d)((function(e){return e.initialList.list.length})),o=Object(T.c)();Object(r.useEffect)((function(){0===i.length&&o({type:u})}),[]);var s=function(e,t){var n;return function(){var r=arguments,i=this,a=function(){e.apply(i,r)};clearTimeout(n),n=setTimeout(a,t)}}((function(e){""===e.trim()&&c!==i.length&&o({type:b,payload:""})}),1e3);return Object(D.jsxs)("div",{className:"".concat(n?"mainConteiner-list":"mainConteiner-list_bacgroundColor-none mainConteiner-list"),children:[Object(D.jsx)("h1",{children:"C\u043f\u0438\u0441\u043e\u043a \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a \u043f\u043e \u0440\u0435\u0433\u0438\u043e\u043d\u0430\u043c"}),Object(D.jsx)(e,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u0433\u0438\u043e\u043d\u0430",allowClear:!0,enterButton:"\u041f\u043e\u0438\u0441\u043a",size:"large",onSearch:function(e){""===e.trim()&&0!==i.length||o({type:b,payload:e.trim()})},disabled:n,onChange:function(e){s(e.target.value),o({type:p,payload:e.target.value})},value:a}),Object(D.jsx)(F,{}),n&&Object(D.jsx)("div",{className:"mainConteiner-list__spin",children:Object(D.jsxs)(N.b,{size:"middle",children:[Object(D.jsx)(k.a,{size:"large"}),Object(D.jsx)("h1",{children:"\u0424\u043e\u0440\u043c\u0438\u0440\u0443\u044e \u0434\u0430\u043d\u043d\u044b\u0435..."})]})}),!n&&Object(D.jsx)(A.a,{dataSource:i,columns:[{title:"\u0420\u0435\u0433\u0438\u043e\u043d",dataIndex:"region",key:"region"},{title:"\u041a\u043e\u043b-\u0432\u043e \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a",dataIndex:"countLibrary",key:"countLibrary",sorter:function(e,t){return e.countLibrary-t.countLibrary}}],rowKey:function(){return I()()},onRow:function(e,n){return{onClick:function(n){var r;r=e.region,t.push("/library/:".concat(r))}}},className:"mainConteiner-list-table"})]})},P=(n(269),n(64)),z=n(320);var B,G,H=function(){var e=Object(_.g)(),t=Object(_.f)(),n=Object(T.d)((function(t){return t.initialList.all_list.filter((function(t){return t.territory.includes(e.nameLibrary.slice(1).trim())}))})),r=z.a.Panel;return Object(D.jsxs)("div",{className:"Libary",children:[Object(D.jsx)(P.a,{type:"primary",onClick:function(){t.push("/")},children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a"}),Object(D.jsx)("div",{className:"data_list",children:Object(D.jsx)(z.a,{defaultActiveKey:["1"],children:n.map((function(e,t){return Object(D.jsx)(r,{header:e.fullname.trim(),children:Object(D.jsx)("pre",{children:JSON.stringify(e,null,2)})},t+1)}))})})]})},M=(n(270),n(319)),Z=n(317),K=function(e){return e?void 0:"Required"},V=(B=15,function(e){return e&&e.length>B?"Must be ".concat(B," characters or less"):void 0}),W=function(e){return e&&isNaN(Number(e))?"Must be a number":void 0},Y=(G=18,function(e){return e&&e<G?"Must be at least ".concat(G):void 0}),$=function(e){return e&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)?"Invalid email address":void 0},q=function(e){return e&&e>65?"You might be too old for this":void 0},U=function(e){return e&&/.+@aol\.com/.test(e)?"Really? You still use AOL for your email?":void 0},X=function(e){var t=e.input,n=e.label,r=e.type,i=e.meta,a=i.touched,c=i.error,o=i.warning;return Object(D.jsxs)("div",{children:[Object(D.jsx)("label",{children:n}),Object(D.jsxs)("div",{children:[Object(D.jsx)("input",Object(l.a)(Object(l.a)({},t),{},{placeholder:n,type:r})),a&&(c&&Object(D.jsx)("span",{children:c})||o&&Object(D.jsx)("span",{children:o}))]})]})},Q=Object(Z.a)({form:"fieldLevelValidation"})((function(e){var t=e.handleSubmit,n=e.pristine,r=e.reset,i=e.submitting;return Object(D.jsxs)("form",{onSubmit:t,children:[Object(D.jsx)(M.a,{name:"username",type:"text",component:X,label:"Username",validate:[K,V]}),Object(D.jsx)(M.a,{name:"email",type:"email",component:X,label:"Email",validate:$,warn:U}),Object(D.jsx)(M.a,{name:"age",type:"number",component:X,label:"Age",validate:[K,W,Y],warn:q}),Object(D.jsxs)("div",{children:[Object(D.jsx)("button",{type:"submit",disabled:i,children:"Submit"}),Object(D.jsx)("button",{type:"button",disabled:n||i,onClick:r,children:"Clear Values"})]})]})}));var ee=function(){return Object(D.jsx)("div",{className:"mainConteiner",children:Object(D.jsxs)(_.c,{children:[Object(D.jsx)(_.a,{exact:!0,path:"/form",children:Object(D.jsx)(Q,{onSubmit:function(e){alert(e)}})}),Object(D.jsx)(_.a,{exact:!0,path:"/",children:Object(D.jsx)(J,{})}),Object(D.jsx)(_.a,{path:"/library/:nameLibrary",children:Object(D.jsx)(H,{})})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(309);var te=n(188),ne=n(56),re=n.n(ne),ie=n(37),ae=re.a.mark(ue),ce=re.a.mark(de),oe=re.a.mark(be),se=re.a.mark(je),le=re.a.mark(fe);function ue(){var e,t;return re.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(ie.d)({type:f});case 2:return n.next=4,Object(ie.c)(2e3);case 4:return n.prev=4,n.next=7,Object(ie.b)(E);case 7:return e=n.sent,n.next=10,Object(ie.b)(R,e);case 10:return t=n.sent,n.next=13,Object(ie.d)({type:d,payload:{list:t,all_list:e}});case 13:return n.next=15,Object(ie.d)({type:j,payload:t});case 15:return n.next=17,Object(ie.d)({type:O});case 17:n.next=23;break;case 19:return n.prev=19,n.t0=n.catch(4),n.next=23,Object(ie.d)({type:O});case 23:case"end":return n.stop()}}),ae,null,[[4,19]])}function de(e){var t;return re.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(ie.d)({type:f});case 2:return n.next=4,Object(ie.c)(2e3);case 4:if(t=[],""!==e.payload){n.next=11;break}return n.next=8,Object(ie.e)((function(e){return e.initialList.list}));case 8:t=n.sent,n.next=14;break;case 11:return n.next=13,Object(ie.e)((function(t){return t.initialList.list.filter((function(t){return t.region.toLowerCase().includes(e.payload.toLowerCase())}))}));case 13:t=n.sent;case 14:return n.next=16,Object(ie.d)({type:j,payload:t});case 16:return n.next=18,Object(ie.d)({type:O});case 18:case"end":return n.stop()}}),ce)}function be(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ie.f)(u,ue);case 2:case"end":return e.stop()}}),oe)}function je(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ie.f)(b,de);case 2:case"end":return e.stop()}}),se)}function fe(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ie.a)([be(),je()]);case 2:case"end":return e.stop()}}),le)}var Oe=fe,pe=Object(te.a)(Oe),xe=Object(s.e)(g,Object(s.a)(pe));pe.run(Oe),a.a.render(Object(D.jsx)(c.a,{locale:w.a,children:Object(D.jsx)(o.a,{children:Object(D.jsx)(T.a,{store:xe,children:Object(D.jsx)(ee,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[315,1,2]]]);
//# sourceMappingURL=main.cd5dcb57.chunk.js.map